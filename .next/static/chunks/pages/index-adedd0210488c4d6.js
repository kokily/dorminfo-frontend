(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1980:function(f,d,b){"use strict";b.d(d,{Z:function(){return F}});var g=b(7294),h=b(1163),a=b(2125),c=b(3137),i=b(5893),j=a.ZP.aside.withConfig({displayName:"Aside__Container",componentId:"sc-1ndx7s6-0"})(["display:flex;flex-direction:column;padding:0.5rem;max-height:calc(100vh - 64px);min-width:320px;overflow:scroll;","{min-height:calc(100vh - 64px - 450px);}"],c.BC.small),k=a.ZP.div.withConfig({displayName:"Aside__Content",componentId:"sc-1ndx7s6-1"})(["display:flex;flex-direction:column;align-items:center;"]),l=function(a){var b=a.children;return(0,i.jsx)(j,{children:(0,i.jsx)(k,{children:b})})},e=b(1664),m=b.n(e),n=function(){var a=(0,g.useState)(!1),c=a[0],e=a[1],b=(0,g.useRef)(null),d=(0,g.useCallback)(function(a){b.current&&!b.current.contains(a.target)&&e(!1)},[]);return(0,g.useEffect)(function(){return window.addEventListener("click",d,!0),function(){window.removeEventListener("click",d,!0)}},[b]),{ref:b,menu:c,toggleMenu:function(){e(!c)},onOutsideClick:d}},o=a.ZP.div.withConfig({displayName:"MenuButton__Container",componentId:"sc-qk3hmp-0"})(["display:flex;align-items:center;cursor:pointer;color:white;font-weight:bold;"]),p=function(a){var b=a.onClick;return(0,i.jsx)(o,{onClick:b,children:"\uBA54\uB274"})},q=a.ZP.div.withConfig({displayName:"MenuItem__Container",componentId:"sc-ylo0m9-0"})(["display:block;color:inherit;text-decoration:none;background:#313131;overflow:hidden;"]),r=a.ZP.div.withConfig({displayName:"MenuItem__Item",componentId:"sc-ylo0m9-1"})(["padding:0.75rem 1rem;line-height:1.5;color:#cdcdcd;cursor:pointer;transition:0.2s all;&:hover{color:white;background:#464646;}"]),s=function(a){var d=a.children,b=a.href,e=a.onClick,c=(0,i.jsx)(r,{onClick:e,children:d});return b?(0,i.jsx)(m(),{href:b,children:(0,i.jsx)(q,{style:{display:"block"},children:c})}):c},t=a.ZP.div.withConfig({displayName:"MenuList__Container",componentId:"sc-gtai4e-0"})(["position:absolute;top:100%;margin-top:0.22rem;right:0;z-index:999999;",";transition:0.14s transform;background:#313131;border-radius:15px;border:1px solid #5a5a5a;overflow:hidden;",""],(0,c.AF)(5),function(b){return b.visible?(0,a.iv)(["opacity:1;transform:scale(1);"]):(0,a.iv)(["opacity:0;transform:scale(0.5);"])}),u=a.ZP.div.withConfig({displayName:"MenuList__Wrapper",componentId:"sc-gtai4e-1"})(["position:relative;z-index:5;width:12rem;"]),v=a.ZP.div.withConfig({displayName:"MenuList__Split",componentId:"sc-gtai4e-2"})(["margin-left:1rem;margin-right:1rem;height:2px;background:linear-gradient(to right,#5a5a5a,#333333);"]),w=function(a){var c=a.onClose,b=a.visible;return(0,i.jsx)(t,{visible:b,onClick:c,children:(0,i.jsx)(u,{children:b&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s,{href:"/",children:"\uD648\uC73C\uB85C"}),(0,i.jsx)(v,{}),(0,i.jsx)(s,{href:"/qna",children:"\uBB38\uC758\uC0AC\uD56D"})]})})})},x=a.ZP.header.withConfig({displayName:"Header__Container",componentId:"sc-6ko897-0"})(["display:flex;justify-content:center;width:100%;background:#313131;",""],(0,c.AF)(1)),y=a.ZP.div.withConfig({displayName:"Header__Content",componentId:"sc-6ko897-1"})(["display:flex;align-items:center;padding-left:1rem;padding-right:1rem;width:1200px;height:56px;position:relative;","{width:992px;}","{width:100%;}"],c.BC.large,c.BC.medium),z=a.ZP.a.withConfig({displayName:"Header__Logo",componentId:"sc-6ko897-2"})(["font-size:1.4rem;font-family:'Rajdhani';font-weight:bold;text-decoration:none;cursor:pointer;color:#ffffff;&:hover{text-shadow:0.5px 0.5px;}"]),A=a.ZP.div.withConfig({displayName:"Header__Spacer",componentId:"sc-6ko897-3"})(["flex-grow:1;"]),B=function(){var a=n(),b=a.ref,c=a.menu,d=a.toggleMenu,e=a.onOutsideClick;return(0,i.jsx)(x,{children:(0,i.jsxs)(y,{children:[(0,i.jsx)(m(),{href:"/",children:(0,i.jsx)(z,{children:"Dorm Info"})}),(0,i.jsx)(A,{}),(0,i.jsxs)("div",{ref:b,children:[(0,i.jsx)(p,{onClick:d}),(0,i.jsx)(w,{onClose:e,visible:c})]})]})})},C=a.ZP.div.withConfig({displayName:"PageTemplate__Container",componentId:"sc-1phfl1q-0"})(["display:flex;flex-direction:column;"]),D=a.ZP.main.withConfig({displayName:"PageTemplate__Main",componentId:"sc-1phfl1q-1"})(["display:flex;flex-direction:row;padding-top:0.5rem;padding-left:0.5rem;padding-right:0.5rem;","{flex-direction:column;}",""],c.BC.small,function(b){return b.qna&&(0,a.iv)(["height:calc(100vh - 56px);background:#5f5f5f;"])}),E=a.ZP.div.withConfig({displayName:"PageTemplate__Content",componentId:"sc-1phfl1q-2"})(["display:flex;flex-direction:column;width:100%;height:100%;min-height:960px;","{min-height:auto;max-height:450px;}"],c.BC.small),F=function(a){var c=a.children,b=a.aside,d=(0,h.useRouter)(),e="/qna"===d.pathname;return(0,i.jsxs)(C,{children:[(0,i.jsx)(B,{}),(0,i.jsxs)(D,{qna:e,children:[(0,i.jsx)(E,{children:c}),b&&(0,i.jsx)(l,{children:b})]})]})}},8964:function(i,c,a){"use strict";a.r(c),a.d(c,{"default":function(){return Q}});var j=a(1980),k=a(7294),b=a(2125),l=a(1872),m=a(7516),n=a(5893),o=b.ZP.div.withConfig({displayName:"Search__Container",componentId:"sc-qesjm4-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:0.5rem;"]),p=b.ZP.div.withConfig({displayName:"Search__Wrapper",componentId:"sc-qesjm4-1"})(["width:280px;padding:5px;background:#444;background:rgba(103,153,255,0.12);-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;-moz-box-shadow:0 1px 1px rgba(0,0,0,0.4) inset,0 1px 0 rgba(255,255,255,0.2);-webkit-box-shadow:0 1px 1px rgba(0,0,0,0.4) inset,0 1px 0 rgba(255,255,255,0.2);box-shadow:0 1px 1px rgba(0,0,0,0.4) inset,0 1px 0 rgba(255,255,255,0.2);"]),q=b.ZP.input.withConfig({displayName:"Search__Input",componentId:"sc-qesjm4-2"})(["width:210px;height:40px;padding:10px 5px;float:left;font-size:1rem;border:0;background:#3bc9db;color:white;-moz-border-radius:3px 0 0 3px;-webkit-border-radius:3px 0 0 3px;border-radius:3px 0 0 3px;&::placeholder{color:white;}&:focus{color:#5f3dc4;outline:0;background:#fff;-moz-box-shadow:0 0 2px rgba(0,0,0,0.8) inset;-webkit-box-shadow:0 0 2px rgba(0,0,0,0.8) inset;box-shadow:0 0 2px rgba(0,0,0,0.8) inset;}"]),r=b.ZP.button.withConfig({displayName:"Search__Button",componentId:"sc-qesjm4-3"})(["overflow:visible;position:relative;float:right;border:0;padding:0;cursor:pointer;width:60px;height:40px;color:#fff;font-size:1rem;background:#1098ad;-webkit-border-radius:0 3px 3px 0;-moz-border-radius:0 3px 3px 0;border-radius:0 3px 3px 0;text-shadow:0 -1px 0 rgba(0,0,0,0.3);&:-moz-focus-inner{border:0;padding:0;}&:hover{background:#22b8cf;&:before{border-right-color:#22b8cf;}}&:active,&:focus{background:#0c8599;transform:translateX(-4px);&:before{border-right-color:#0c8599;}}&:before{content:'';position:absolute;border-width:8px 8px 8px 0;border-style:solid solid solid none;border-color:transparent #1098ad transparent;top:12px;left:-6px;}"]),s=function(a){var b=a.mode,c=a.title,d=a.onChange,e=a.onSearch,f=a.onKeyPress;return(0,n.jsx)(o,{children:(0,n.jsxs)(p,{children:[(0,n.jsx)(q,{type:"text",name:"title",value:c,onChange:d,onKeyPress:f,placeholder:"".concat(b)}),(0,n.jsx)(r,{onClick:e,children:"\uAC80\uC0C9"})]})})},t=b.ZP.div.withConfig({displayName:"DormCard__Container",componentId:"sc-8ezwub-0"})(["display:flex;flex-direction:column;overflow:hidden;margin-bottom:1.6rem;border-bottom:1px solid #fff;cursor:pointer;transition:0.2s all;&:hover{border-bottom:1px solid #8d8d8d;}"]),u=b.ZP.div.withConfig({displayName:"DormCard__ImageBox",componentId:"sc-8ezwub-1"})(["width:100%;height:140px;background:rgba(195,135,135,0.2);border-radius:5px;margin-bottom:0.4rem;img{border-radius:5px;width:100%;height:100%;}"]),v=b.ZP.div.withConfig({displayName:"DormCard__Header",componentId:"sc-8ezwub-2"})(["display:flex;justify-content:space-between;width:100%;"]),w=b.ZP.h3.withConfig({displayName:"DormCard__Title",componentId:"sc-8ezwub-3"})(["width:100%;color:#0168c3;margin:0px;"]),x=b.ZP.h5.withConfig({displayName:"DormCard__Distance",componentId:"sc-8ezwub-4"})(["margin:0px;color:#d50505;"]),y=b.ZP.div.withConfig({displayName:"DormCard__Address",componentId:"sc-8ezwub-5"})(["overflow:hidden;padding-top:0.5rem;"]),z=function(a){var b=a.image,e=a.id,c=a.title,d=a.address,f=a.markerMove;return(0,n.jsxs)(t,{onClick:function(){return f(e,c,d)},children:[b&&(0,n.jsx)(u,{children:(0,n.jsx)("img",{src:b,alt:""})}),(0,n.jsxs)(v,{children:[(0,n.jsx)(w,{children:c}),(0,n.jsx)(x,{})]}),(0,n.jsx)(y,{children:d})]})},A=b.ZP.div.withConfig({displayName:"DormsList__Container",componentId:"sc-1b5wwkd-0"})(["display:flex;flex-direction:column;align-items:center;h2{color:#335a94;margin:0.5rem;}"]),B=b.ZP.div.withConfig({displayName:"DormsList__Notice",componentId:"sc-1b5wwkd-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;height:40px;padding:0.6rem;background:#d1fff0;margin-bottom:1rem;cursor:pointer;border-radius:5px;transition:0.15s all;&:hover{background:#8fffda;}span{display:flex;height:100%;align-items:center;color:#3e5eff;font-weight:bold;svg{margin-right:0.4rem;}}"]),C=b.ZP.div.withConfig({displayName:"DormsList__ContentBox",componentId:"sc-1b5wwkd-2"})(["display:flex;flex-direction:column;width:100%;"]),D=b.ZP.div.withConfig({displayName:"DormsList__Split",componentId:"sc-1b5wwkd-3"})(["display:flex;width:100%;flex-basis:100%;align-items:center;color:rgba(0,0,0.35);margin-bottom:1.2rem;&::after{content:'';flex-grow:1;height:1px;background:#7a7a7a;font-size:0px;line-height:0px;margin:0px 16px;}"]),E=function(a){var b=a.maps,c=a.name,d=a.onChange,e=a.onSearch,f=a.onKeyPress,g=a.markerMove;return(0,n.jsxs)(A,{children:[(0,n.jsx)(s,{mode:"\uB3D9 \uAC80\uC0C9",title:c,onChange:d,onSearch:e,onKeyPress:f}),(0,n.jsx)("h2",{children:"\uACE0\uC2DC\uC6D0 \uBAA9\uB85D"}),(0,n.jsxs)(B,{children:[(0,n.jsxs)("span",{children:[(0,n.jsx)(l.IUS,{})," \uACF5\uC9C0\uC0AC\uD56D: \uC3FC\uB77C"]}),(0,n.jsx)("span",{children:(0,n.jsx)(m.U6L,{})})]}),(0,n.jsxs)(D,{children:["\uC8FC\uBCC0\xa0",(0,n.jsx)("strong",{style:{marginRight:"5px"},children:"\uACE0\uC2DC\uC6D0"})]}),(0,n.jsx)(C,{children:b.length>0&&b.map(function(a){return(0,n.jsx)(z,{id:a.id,title:a.name,address:a.address,markerMove:g},a.id)})})]})},F=function(){var b=(0,k.useRef)(!1),a=(0,k.useCallback)(function(){return b.current},[]);return(0,k.useEffect)(function(){return b.current=!0,function(){b.current=!1}},[]),a},G=function(b){var a=(0,k.useState)(function(){return window.matchMedia(b).matches}),c=a[0],e=a[1],d=F();return(0,k.useEffect)(function(){if(d){var a=window.matchMedia(b),c=function(){d()&&e(a.matches)};return a.addEventListener("change",c),e(a.matches),function(){a.removeEventListener("change",c)}}},[b,d]),c},H=b.ZP.div.withConfig({displayName:"NaverMap__Container",componentId:"sc-48hg54-0"})(["width:100%;height:calc(100vh - 64px);.my{font-weight:bold;color:#ff0000;}",";"],function(a){return a.small&&(0,b.iv)(["height:400px;"])}),I=function(a){a.myLocation;var b=G("(max-width: 768px)");return(0,n.jsx)(H,{id:"map",small:b})},J=a(29),d=a(7794),K=a.n(d),e=a(129),L=a.n(e),f=a(9669),g=a.n(f),h=g().create({baseURL:"http://3.39.172.245:8080/api"}),M=h;function N(){return(N=(0,J.Z)(K().mark(function a(b){var c,d;return K().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=L().stringify(b),a.next=4,M.get("/dorm/list?".concat(c));case 4:return d=a.sent,a.abrupt("return",d.data);case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}},a,null,[[0,8]])}))).apply(this,arguments)}var O=function(){var a=(0,k.useState)(""),b=a[0],h=a[1],c=(0,k.useState)(""),d=c[0],i=c[1],e=(0,k.useCallback)(function(a){i(a.target.value)},[b]),f=(0,k.useCallback)(function(a){a.preventDefault(),h(d)},[]),g=(0,k.useCallback)(function(a){"Enter"===a.key&&f(a)},[]);return{search:b,name:d,onChange:e,onSearch:f,onKeyPress:g}},P=function(){var a=O(),c=a.search,g=a.name,h=a.onChange,i=a.onSearch,j=a.onKeyPress,m=(0,k.useRef)(null),d=(0,k.useState)(16),n=d[0],o=d[1],e=(0,k.useState)([]),l=e[0],p=e[1],f=(0,k.useState)(""),b=f[0],q=f[1],r=[],s=[];return(0,k.useEffect)(function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){q({latitude:a.coords.latitude,longitude:a.coords.longitude})}):(window.alert("\uD604\uC7AC \uC704\uCE58\uB97C \uC54C \uC218 \uC5C6\uC5B4 \uAE30\uBCF8 \uC704\uCE58\uB85C \uC9C0\uC815\uD569\uB2C8\uB2E4."),q({latitude:37.4862618,longitude:127.1222903}))},[]),(0,k.useEffect)(function(){if("string"!=typeof b){var a=[b.latitude,b.longitude];m.current=new naver.maps.Map("map",{center:new naver.maps.LatLng(a[0],a[1]),zoomControl:!0,zoom:n}),naver.maps.Event.addListener(m.current,"zoom_changed",function(a){o(a)})}},[b]),(0,k.useEffect)(function(){if("string"!=typeof b){var d=function(c){for(var a,d,g=c.isMap,h=c.isMarkers,i=g.getBounds(),b=0;b<h.length;b+=1)d=(a=h[b]).getPosition(),i.hasLatLng(d)?e({isMap:g,marker:a}):f({marker:a})},e=function(a){var b=a.isMap,c=a.marker;c.setMap(b)},f=function(a){a.marker.setMap(null)},a=m.current.getBounds();(function(a){return N.apply(this,arguments)})({rtlat:a.maxY(),rtlng:a.maxX(),lblat:a.minY(),lblng:a.minX(),search:c}).then(function(b){if(!b)return console.log("\uB370\uC774\uD130 \uC5C6\uC74C");for(var c=b,e=[],d=function(a){var d,b=new naver.maps.Marker({position:new naver.maps.LatLng(c[a].latitude,c[a].longitude),map:m.current}),f=new naver.maps.InfoWindow({content:'<div class="info_container"><div class="icon_circle"><image src="/assets/icon.png" alt="" /></div><div class="info_contents"><div class="title">'.concat(c[a].name,'</div><div class="address">').concat(c[a].address,"</div></div></div>"),borderWidth:0,anchorSize:new naver.maps.Size(10,2),anchorColor:"#5e79fc",pixelOffset:new naver.maps.Point(60,-15),backgroundColor:"none"});r.push(b),s.push(f),c[a].marker=new naver.maps.Marker({position:new naver.maps.LatLng(c[a].latitude,c[a].longitude)}),e.push(c[a]),naver.maps.Event.addListener(b,"click",(d=(0,J.Z)(K().mark(function b(c){var d,e;return K().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:d=r[a],e=s[a],e.getMap()?e.close():(m.current.panTo(c.coord),e.open(m.current,d));case 3:case"end":return b.stop()}},b)})),function(a){return d.apply(this,arguments)}))},a=0;a<c.length;a+=1)d(a);p(c)}).catch(function(a){console.log(a)}),naver.maps.Event.addListener(m.current,"dragend",function(){q({latitude:m.current.center._lat,longitude:m.current.center._lng}),d({isMap:m.current,isMarkers:r})})}},[b,c]),{myLocation:b,maps:l,markerMove:function(g,d,e){var a,f=l.find(function(a){return a.id===g}),b=null===(a=l.find(function(a){return a.id===g}))|| void 0===a?void 0:a.marker,c=new naver.maps.InfoWindow({content:'<div class="info_container"><div class="icon_circle"><image src="/assets/icon.png" alt="" /></div><div class="info_contents"><div class="title">'.concat(d,'</div><div class="address">').concat(e,"</div></div></div>"),borderWidth:0,anchorSize:new naver.maps.Size(10,2),anchorColor:"#5e79fc",pixelOffset:new naver.maps.Point(60,-15),backgroundColor:"none"});b&&f&&(c.getMap()?c.close():(m.current.panTo(b.getPosition()),c.open(m.current,b)))},search:c,name:g,onChange:h,onSearch:i,onKeyPress:j}},Q=function(){var a=P(),b=a.myLocation,c=a.maps,d=a.markerMove,e=a.name,f=a.onChange,g=a.onSearch,h=a.onKeyPress;return(0,n.jsx)(j.Z,{aside:(0,n.jsx)(E,{maps:c,name:e,onChange:f,onSearch:g,onKeyPress:h,markerMove:d}),children:(0,n.jsx)(I,{myLocation:b})})}},8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(8964)}])},4654:function(){}},function(a){a.O(0,[994,874,520,774,888,179],function(){return a(a.s=8312)}),_N_E=a.O()}])